//
// qgwin_mesg.c - 윈도우 메시지 얻기
// 2023-12-19 by kim
//

#include "pch.h"
#include "qs_qn.h"
#if defined _QN_WINDOWS_
#include <dde.h>

#ifdef _DEBUG
static struct WindowsMessageMap
{
	size_t				mesg;
	const char*			str;
}
s_map[] =
{
#define DEF_MESG(wm) { WM_##wm, #wm }
	DEF_MESG(CREATE),
	DEF_MESG(DESTROY),
	DEF_MESG(MOVE),
	DEF_MESG(SIZE),
	DEF_MESG(ACTIVATE),
	DEF_MESG(SETFOCUS),
	DEF_MESG(KILLFOCUS),
	DEF_MESG(ENABLE),
	DEF_MESG(SETREDRAW),
	DEF_MESG(SETTEXT),
	DEF_MESG(GETTEXT),
	DEF_MESG(GETTEXTLENGTH),
	DEF_MESG(PAINT),
	DEF_MESG(CLOSE),
	DEF_MESG(QUERYENDSESSION),
	DEF_MESG(QUIT),
	DEF_MESG(QUERYOPEN),
	DEF_MESG(ERASEBKGND),
	DEF_MESG(SYSCOLORCHANGE),
	DEF_MESG(ENDSESSION),
	DEF_MESG(SHOWWINDOW),
	DEF_MESG(CTLCOLORMSGBOX),
	DEF_MESG(CTLCOLOREDIT),
	DEF_MESG(CTLCOLORLISTBOX),
	DEF_MESG(CTLCOLORBTN),
	DEF_MESG(CTLCOLORDLG),
	DEF_MESG(CTLCOLORSCROLLBAR),
	DEF_MESG(CTLCOLORSTATIC),
	DEF_MESG(WININICHANGE),
	DEF_MESG(SETTINGCHANGE),
	DEF_MESG(DEVMODECHANGE),
	DEF_MESG(ACTIVATEAPP),
	DEF_MESG(FONTCHANGE),
	DEF_MESG(TIMECHANGE),
	DEF_MESG(CANCELMODE),
	DEF_MESG(SETCURSOR),
	DEF_MESG(MOUSEACTIVATE),
	DEF_MESG(CHILDACTIVATE),
	DEF_MESG(QUEUESYNC),
	DEF_MESG(GETMINMAXINFO),
	DEF_MESG(ICONERASEBKGND),
	DEF_MESG(NEXTDLGCTL),
	DEF_MESG(SPOOLERSTATUS),
	DEF_MESG(DRAWITEM),
	DEF_MESG(MEASUREITEM),
	DEF_MESG(DELETEITEM),
	DEF_MESG(VKEYTOITEM),
	DEF_MESG(CHARTOITEM),
	DEF_MESG(SETFONT),
	DEF_MESG(GETFONT),
	DEF_MESG(QUERYDRAGICON),
	DEF_MESG(COMPAREITEM),
	DEF_MESG(COMPACTING),
	DEF_MESG(NCCREATE),
	DEF_MESG(NCDESTROY),
	DEF_MESG(NCCALCSIZE),
	DEF_MESG(NCHITTEST),
	DEF_MESG(NCPAINT),
	DEF_MESG(NCACTIVATE),
	DEF_MESG(GETDLGCODE),
	DEF_MESG(NCMOUSEMOVE),
	DEF_MESG(NCLBUTTONDOWN),
	DEF_MESG(NCLBUTTONUP),
	DEF_MESG(NCLBUTTONDBLCLK),
	DEF_MESG(NCRBUTTONDOWN),
	DEF_MESG(NCRBUTTONUP),
	DEF_MESG(NCRBUTTONDBLCLK),
	DEF_MESG(NCMBUTTONDOWN),
	DEF_MESG(NCMBUTTONUP),
	DEF_MESG(NCMBUTTONDBLCLK),
	DEF_MESG(KEYDOWN),
	DEF_MESG(KEYUP),
	DEF_MESG(CHAR),
	DEF_MESG(DEADCHAR),
	DEF_MESG(SYSKEYDOWN),
	DEF_MESG(SYSKEYUP),
	DEF_MESG(SYSCHAR),
	DEF_MESG(SYSDEADCHAR),
	DEF_MESG(KEYLAST),
	DEF_MESG(INITDIALOG),
	DEF_MESG(COMMAND),
	DEF_MESG(SYSCOMMAND),
	DEF_MESG(TIMER),
	DEF_MESG(HSCROLL),
	DEF_MESG(VSCROLL),
	DEF_MESG(INITMENU),
	DEF_MESG(INITMENUPOPUP),
	DEF_MESG(MENUSELECT),
	DEF_MESG(MENUCHAR),
	DEF_MESG(ENTERIDLE),
	DEF_MESG(MOUSEWHEEL),
	DEF_MESG(MOUSEMOVE),
	DEF_MESG(LBUTTONDOWN),
	DEF_MESG(LBUTTONUP),
	DEF_MESG(LBUTTONDBLCLK),
	DEF_MESG(RBUTTONDOWN),
	DEF_MESG(RBUTTONUP),
	DEF_MESG(RBUTTONDBLCLK),
	DEF_MESG(MBUTTONDOWN),
	DEF_MESG(MBUTTONUP),
	DEF_MESG(MBUTTONDBLCLK),
	DEF_MESG(PARENTNOTIFY),
	DEF_MESG(MDICREATE),
	DEF_MESG(MDIDESTROY),
	DEF_MESG(MDIACTIVATE),
	DEF_MESG(MDIRESTORE),
	DEF_MESG(MDINEXT),
	DEF_MESG(MDIMAXIMIZE),
	DEF_MESG(MDITILE),
	DEF_MESG(MDICASCADE),
	DEF_MESG(MDIICONARRANGE),
	DEF_MESG(MDIGETACTIVE),
	DEF_MESG(MDISETMENU),
	DEF_MESG(CUT),
	DEF_MESG(COPYDATA),
	DEF_MESG(COPY),
	DEF_MESG(PASTE),
	DEF_MESG(CLEAR),
	DEF_MESG(UNDO),
	DEF_MESG(RENDERFORMAT),
	DEF_MESG(RENDERALLFORMATS),
	DEF_MESG(DESTROYCLIPBOARD),
	DEF_MESG(DRAWCLIPBOARD),
	DEF_MESG(PAINTCLIPBOARD),
	DEF_MESG(VSCROLLCLIPBOARD),
	DEF_MESG(SIZECLIPBOARD),
	DEF_MESG(ASKCBFORMATNAME),
	DEF_MESG(CHANGECBCHAIN),
	DEF_MESG(HSCROLLCLIPBOARD),
	DEF_MESG(QUERYNEWPALETTE),
	DEF_MESG(PALETTEISCHANGING),
	DEF_MESG(PALETTECHANGED),
	DEF_MESG(DDE_INITIATE),
	DEF_MESG(DDE_TERMINATE),
	DEF_MESG(DDE_ADVISE),
	DEF_MESG(DDE_UNADVISE),
	DEF_MESG(DDE_ACK),
	DEF_MESG(DDE_DATA),
	DEF_MESG(DDE_REQUEST),
	DEF_MESG(DDE_POKE),
	DEF_MESG(DDE_EXECUTE),
	DEF_MESG(DROPFILES),
	DEF_MESG(POWER),
	DEF_MESG(WINDOWPOSCHANGED),
	DEF_MESG(WINDOWPOSCHANGING),
	// MFC specific messages
	/*
	DEF_MESG(SIZEPARENT),
	DEF_MESG(SETMESSAGESTRING),
	DEF_MESG(IDLEUPDATECMDUI),
	DEF_MESG(INITIALUPDATE),
	DEF_MESG(COMMANDHELP),
	DEF_MESG(HELPHITTEST),
	DEF_MESG(EXITHELPMODE),
	*/
	DEF_MESG(HELP),
	DEF_MESG(NOTIFY),
	DEF_MESG(CONTEXTMENU),
	DEF_MESG(TCARD),
	DEF_MESG(MDIREFRESHMENU),
	DEF_MESG(MOVING),
	DEF_MESG(STYLECHANGED),
	DEF_MESG(STYLECHANGING),
	DEF_MESG(SIZING),
	DEF_MESG(SETHOTKEY),
	DEF_MESG(PRINT),
	DEF_MESG(PRINTCLIENT),
	DEF_MESG(POWERBROADCAST),
	DEF_MESG(HOTKEY),
	DEF_MESG(GETICON),
	DEF_MESG(EXITMENULOOP),
	DEF_MESG(ENTERMENULOOP),
	DEF_MESG(DISPLAYCHANGE),
	DEF_MESG(STYLECHANGED),
	DEF_MESG(STYLECHANGING),
	DEF_MESG(GETICON),
	DEF_MESG(SETICON),
	DEF_MESG(SIZING),
	DEF_MESG(MOVING),
	DEF_MESG(CAPTURECHANGED),
	DEF_MESG(DEVICECHANGE),
	DEF_MESG(PRINT),
	DEF_MESG(PRINTCLIENT),
	{ 0, NULL, }    // 끝 널 터미네이트
#undef DEF_MESG
};

const char* windows_message_str(UINT mesg)
{
	for (const struct WindowsMessageMap* p = s_map; p->str != NULL; p++)
	{
		if (p->mesg == mesg)
			return p->str;
	}
	return "UNKNOWN";
}
#else
const char* windows_message_str(UINT mesg)
{
	return "UNKNOWN";
}
#endif
#endif
